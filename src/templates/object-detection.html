<div class="task-container">
    <!-- Controls on Left -->
    <div class="controls-panel">
        <!-- Model Section -->
        <div class="section-title">Model Selection</div>
        <div class="tabs-container">
            <button id="tab-model-list" class="tab-button active">
                <span class="material-icons">grid_view</span> Standard
            </button>
            <button id="tab-model-upload" class="tab-button">
                <span class="material-icons">upload</span> Upload
            </button>
        </div>

        <div id="view-model-list" class="tab-content active">
            <div class="select-wrapper">
                <select id="model-select">
                    <option value="efficientdet_lite0" selected>EfficientDet-Lite0</option>
                    <option value="efficientdet_lite2">EfficientDet-Lite2</option>
                    <option value="ssd_mobilenet_v2">SSD MobileNet V2</option>
                </select>
            </div>
        </div>

        <div id="view-model-upload" class="tab-content">
            <label class="file-upload-btn">
                Choose .tflite File
                <input type="file" id="model-upload" accept=".tflite">
            </label>
            <div id="upload-status" class="status-text">No file chosen</div>
        </div>

        <div class="divider"></div>

        <!-- Settings Section -->
        <div class="section-title">Settings</div>

        <div class="control-group">
            <div class="control-label">
                <span>Max Results</span>
                <span id="max-results-value" class="value-badge">3</span>
            </div>
            <input type="range" id="max-results" min="1" max="10" value="3" class="range-slider">
        </div>

        <div class="control-group">
            <div class="control-label">
                <span>Score Threshold</span>
                <span id="score-threshold-value" class="value-badge">0.5</span>
            </div>
            <input type="range" id="score-threshold" min="0" max="1" step="0.01" value="0.5" class="range-slider">
        </div>

        <div class="control-group">
            <div class="control-label">
                <span>Delegate</span>
            </div>
            <div class="select-wrapper">
                <select id="delegate-select">
                    <option value="GPU" selected>GPU</option>
                    <option value="CPU">CPU</option>
                </select>
            </div>
        </div>

        <div class="divider"></div>

        <!-- Status Section -->
        <div id="status-message" class="status-message">Ready</div>
        <div id="inference-time" class="inference-time">Inference Time: - ms</div>
    </div>

    <!-- Output on Right -->
    <div class="output-panel">
        <div class="output-header">
            <h2>Object Detection</h2>
            <div class="view-tabs">
                <button id="tab-webcam" class="view-tab">Webcam</button>
                <button id="tab-image" class="view-tab active">Image</button>
            </div>
        </div>

        <div class="viewport">
            <!-- Webcam View -->
            <div id="view-webcam" class="view-content">
                <div class="cam-container">
                    <button id="webcamButton" class="action-button">
                        <span class="material-icons">videocam</span> Enable Webcam
                    </button>
                    <div class="video-wrapper">
                        <video id="webcam" autoplay playsinline></video>
                        <canvas id="output_canvas"></canvas>
                    </div>
                </div>
            </div>

            <!-- Image View -->
            <div id="view-image" class="view-content active">
                <div class="upload-dropzone">
                    <div class="dropzone-content" style="display: none;">
                        <span class="material-icons large-icon">image</span>
                        <p>Drag and drop or click to upload</p>
                        <input type="file" id="image-upload" accept="image/*">
                    </div>
                    <div id="image-preview-container" class="preview-container">
                        <img id="test-image" src="dog.jpg" crossorigin="anonymous" />
                        <canvas id="image-canvas"></canvas>
                    </div>
                    <button id="re-upload-btn" class="action-button re-upload" style="display: flex;">
                        <span class="material-icons">upload</span> Upload New Image
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>